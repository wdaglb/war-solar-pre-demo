local ____lualib = require("lualib_bundle")
local __TS__Class = ____lualib.__TS__Class
local __TS__ClassExtends = ____lualib.__TS__ClassExtends
local __TS__SetDescriptor = ____lualib.__TS__SetDescriptor
local __TS__SourceMapTraceBack = ____lualib.__TS__SourceMapTraceBack
__TS__SourceMapTraceBack(debug.getinfo(1).short_src, {["8"] = 4,["9"] = 4,["10"] = 7,["11"] = 7,["12"] = 8,["13"] = 8,["14"] = 9,["15"] = 9,["16"] = 10,["17"] = 10,["18"] = 12,["19"] = 12,["20"] = 14,["21"] = 14,["22"] = 15,["23"] = 15,["24"] = 16,["25"] = 16,["26"] = 18,["27"] = 18,["28"] = 20,["29"] = 22,["30"] = 22,["31"] = 22,["32"] = 22,["33"] = 28,["34"] = 29,["35"] = 22,["38"] = 33,["39"] = 34,["40"] = 34,["41"] = 34,["42"] = 34,["43"] = 34,["44"] = 34,["45"] = 34,["46"] = 22,["47"] = 28,["53"] = 42,["55"] = 45,["56"] = 46,["66"] = 82,["68"] = 77,["69"] = 78,["79"] = 91,["81"] = 86,["82"] = 87,["92"] = 95,["94"] = 98,["95"] = 99,["105"] = 115,["107"] = 110,["108"] = 111,["116"] = 122,["117"] = 123,["125"] = 127,["133"] = 131,["141"] = 135,["149"] = 139,["157"] = 143,["165"] = 147,["174"] = 151,["176"] = 154,["177"] = 155,["187"] = 163,["189"] = 158,["190"] = 159,["199"] = 167,["207"] = 171,["215"] = 175,["224"] = 179,["226"] = 182,["227"] = 183,["236"] = 187,["243"] = 190,["244"] = 191,["252"] = 199,["261"] = 208,["263"] = 211,["264"] = 212,["274"] = 236,["276"] = 231,["277"] = 232,["286"] = 240,["294"] = 252,["303"] = 260,["305"] = 255,["306"] = 256,["316"] = 268,["318"] = 263,["319"] = 264,["329"] = 272,["331"] = 275,["332"] = 276,["341"] = 280,["350"] = 288,["352"] = 283,["353"] = 284,["362"] = 292,["370"] = 296,["378"] = 300,["386"] = 304,["395"] = 312,["397"] = 307,["398"] = 308,["408"] = 333,["410"] = 328,["411"] = 329,["421"] = 345,["423"] = 348,["424"] = 349,["433"] = 353,["442"] = 357,["444"] = 360,["445"] = 361,["455"] = 369,["457"] = 364,["458"] = 365,["467"] = 373,["475"] = 377,["484"] = 381,["486"] = 384,["487"] = 385,["497"] = 393,["499"] = 388,["500"] = 389,["510"] = 397,["512"] = 400,["513"] = 401,["523"] = 405,["525"] = 408,["526"] = 409,["531"] = 53,["532"] = 54,["533"] = 55,["535"] = 57,["536"] = 58,["537"] = 53,["538"] = 61,["539"] = 62,["540"] = 63,["542"] = 65,["543"] = 66,["544"] = 61,["545"] = 69,["546"] = 69,["547"] = 69,["549"] = 69,["550"] = 69,["552"] = 69,["553"] = 69,["555"] = 70,["556"] = 70,["557"] = 70,["558"] = 70,["559"] = 70,["560"] = 70,["561"] = 70,["562"] = 69,["563"] = 416,["564"] = 417,["565"] = 416,["566"] = 420,["567"] = 421,["568"] = 420,["569"] = 424,["570"] = 425,["571"] = 424,["572"] = 428,["573"] = 429,["574"] = 429,["575"] = 429,["576"] = 429,["577"] = 429,["578"] = 429,["579"] = 429,["580"] = 428,["581"] = 432,["582"] = 433,["583"] = 432,["584"] = 436,["585"] = 437,["586"] = 436,["587"] = 440,["588"] = 441,["589"] = 440,["590"] = 444,["591"] = 445,["592"] = 444,["593"] = 448,["594"] = 449,["595"] = 448,["596"] = 452,["597"] = 453,["598"] = 452,["599"] = 456,["600"] = 457,["601"] = 456,["602"] = 460,["603"] = 461,["604"] = 460,["605"] = 464,["606"] = 465,["607"] = 464,["608"] = 468,["609"] = 469,["610"] = 468,["611"] = 476,["612"] = 477,["613"] = 476,["614"] = 480,["615"] = 481,["616"] = 481,["617"] = 481,["618"] = 481,["619"] = 481,["620"] = 481,["621"] = 481,["622"] = 481,["623"] = 481,["624"] = 481,["625"] = 480,["626"] = 484,["627"] = 485,["628"] = 485,["629"] = 485,["630"] = 485,["631"] = 485,["632"] = 485,["633"] = 485,["634"] = 485,["635"] = 485,["636"] = 485,["637"] = 485,["638"] = 485,["639"] = 485,["640"] = 484,["641"] = 488,["642"] = 489,["643"] = 489,["644"] = 489,["645"] = 489,["646"] = 489,["647"] = 489,["648"] = 489,["649"] = 489,["650"] = 489,["651"] = 489,["652"] = 488,["653"] = 492,["654"] = 493,["655"] = 492,["656"] = 499,["657"] = 499,["658"] = 499,["660"] = 500,["661"] = 501,["662"] = 502,["663"] = 502,["664"] = 502,["665"] = 503,["666"] = 504,["667"] = 505,["668"] = 502,["669"] = 502,["671"] = 508,["672"] = 509,["674"] = 499,["675"] = 518,["676"] = 519,["677"] = 518,["678"] = 522,["679"] = 523,["680"] = 522,["681"] = 526,["682"] = 527,["683"] = 526,["684"] = 550,["685"] = 551,["686"] = 551,["687"] = 551,["688"] = 551,["689"] = 550,["690"] = 554,["691"] = 555,["692"] = 554,["693"] = 562,["694"] = 563,["695"] = 562,["696"] = 607,["697"] = 608,["698"] = 607,["699"] = 611,["700"] = 612,["701"] = 611,["702"] = 615,["703"] = 616,["704"] = 615,["705"] = 619,["706"] = 620,["707"] = 619,["708"] = 623,["709"] = 624,["710"] = 625,["711"] = 626,["713"] = 628,["714"] = 623,["715"] = 631,["716"] = 632,["717"] = 633,["718"] = 634,["720"] = 636,["721"] = 631,["722"] = 639,["723"] = 640,["724"] = 639,["725"] = 643,["726"] = 644,["727"] = 643,["728"] = 647,["729"] = 648,["730"] = 648,["731"] = 648,["732"] = 648,["733"] = 648,["734"] = 648,["735"] = 648,["736"] = 648,["737"] = 648,["738"] = 648,["739"] = 647,["740"] = 651,["741"] = 652,["742"] = 651,["743"] = 655,["745"] = 656,["746"] = 656,["747"] = 657,["748"] = 658,["749"] = 659,["751"] = 656,["754"] = 662,["755"] = 655,["756"] = 669,["757"] = 670,["758"] = 669,["759"] = 673,["760"] = 674,["761"] = 673,["762"] = 677,["763"] = 678,["764"] = 677,["765"] = 681,["766"] = 682,["767"] = 681,["768"] = 685,["769"] = 686,["770"] = 685,["771"] = 689,["772"] = 690,["773"] = 689,["774"] = 697,["775"] = 698,["776"] = 697,["777"] = 701,["778"] = 703,["779"] = 701,["780"] = 706,["781"] = 707,["782"] = 706,["783"] = 710,["784"] = 711,["785"] = 710,["786"] = 714,["787"] = 715,["788"] = 714,["789"] = 718,["790"] = 719,["791"] = 718,["792"] = 722,["793"] = 723,["794"] = 722,["795"] = 726,["796"] = 727,["797"] = 726,["798"] = 730,["799"] = 731,["800"] = 730,["801"] = 734,["802"] = 735,["803"] = 734,["804"] = 738,["805"] = 739,["806"] = 738,["807"] = 742,["808"] = 743,["809"] = 743,["810"] = 743,["812"] = 743,["814"] = 743,["815"] = 742,["816"] = 746,["817"] = 747,["818"] = 747,["819"] = 747,["821"] = 747,["823"] = 747,["824"] = 746,["825"] = 750,["826"] = 751,["827"] = 751,["828"] = 751,["829"] = 751,["830"] = 751,["831"] = 751,["832"] = 751,["833"] = 751,["834"] = 751,["836"] = 751,["837"] = 751,["838"] = 751,["839"] = 751,["840"] = 751,["841"] = 751,["842"] = 751,["844"] = 751,["845"] = 750,["846"] = 754,["847"] = 755,["848"] = 755,["849"] = 755,["851"] = 755,["853"] = 755,["854"] = 754,["855"] = 758,["856"] = 759,["857"] = 759,["858"] = 759,["860"] = 759,["862"] = 759,["863"] = 758,["864"] = 762,["865"] = 763,["866"] = 763,["867"] = 763,["869"] = 763,["871"] = 763,["872"] = 762,["873"] = 766,["874"] = 767,["875"] = 767,["876"] = 767,["878"] = 767,["880"] = 767,["881"] = 766,["882"] = 770,["883"] = 771,["884"] = 770,["885"] = 774,["886"] = 775,["887"] = 774,["888"] = 778,["889"] = 779,["890"] = 778,["891"] = 785,["892"] = 786,["893"] = 785,["894"] = 789,["895"] = 790,["896"] = 790,["897"] = 790,["898"] = 790,["899"] = 790,["900"] = 790,["901"] = 790,["902"] = 790,["903"] = 789,["904"] = 793,["905"] = 794,["906"] = 793,["907"] = 797,["908"] = 798,["909"] = 797,["910"] = 805,["911"] = 806,["912"] = 805,["913"] = 809,["914"] = 810,["915"] = 809,["916"] = 813,["917"] = 814,["918"] = 813,["919"] = 817,["920"] = 818,["921"] = 817,["922"] = 821,["923"] = 822,["924"] = 821,["925"] = 825,["926"] = 826,["927"] = 826,["928"] = 826,["929"] = 826,["930"] = 826,["931"] = 826,["932"] = 826,["933"] = 826,["934"] = 826,["935"] = 826,["936"] = 825,["937"] = 829,["938"] = 830,["939"] = 829,["940"] = 833,["941"] = 834,["942"] = 833,["943"] = 837,["944"] = 838,["945"] = 837,["946"] = 841,["947"] = 842,["948"] = 841,["949"] = 845,["950"] = 846,["951"] = 845,["952"] = 849,["953"] = 850,["954"] = 849,["955"] = 853,["956"] = 854,["957"] = 853,["958"] = 857,["959"] = 858,["960"] = 857,["961"] = 861,["962"] = 862,["963"] = 861,["964"] = 865,["965"] = 866,["966"] = 865,["967"] = 869,["968"] = 870,["969"] = 869,["970"] = 873,["971"] = 874,["972"] = 873,["973"] = 881,["974"] = 882,["975"] = 881,["976"] = 889,["977"] = 890,["978"] = 889,["979"] = 893,["980"] = 894,["981"] = 895,["983"] = 897,["985"] = 893,["986"] = 901,["987"] = 902,["988"] = 901,["989"] = 913,["990"] = 914,["991"] = 913,["992"] = 917,["993"] = 918,["994"] = 917,["995"] = 921,["996"] = 922,["997"] = 921,["998"] = 933,["999"] = 934,["1000"] = 933,["1001"] = 937,["1002"] = 938,["1003"] = 937,["1004"] = 961,["1005"] = 962,["1006"] = 961,["1007"] = 965,["1008"] = 966,["1009"] = 965,["1010"] = 969,["1011"] = 970,["1012"] = 969,["1013"] = 973,["1014"] = 974,["1015"] = 973,["1016"] = 977,["1017"] = 978,["1018"] = 977,["1019"] = 981,["1020"] = 982,["1021"] = 981,["1022"] = 985,["1023"] = 986,["1024"] = 985,["1025"] = 989,["1026"] = 990,["1027"] = 989,["1028"] = 993,["1029"] = 994,["1030"] = 993,["1031"] = 997,["1032"] = 998,["1033"] = 997,["1034"] = 1001,["1035"] = 1002,["1036"] = 1001,["1037"] = 1005,["1038"] = 1006,["1039"] = 1005,["1040"] = 1009,["1041"] = 1010,["1042"] = 1009,["1043"] = 1017,["1044"] = 1018,["1045"] = 1017,["1046"] = 1021,["1047"] = 1022,["1048"] = 1021,["1049"] = 1025,["1050"] = 1026,["1051"] = 1025,["1052"] = 1029,["1053"] = 1030,["1054"] = 1029,["1055"] = 1033,["1056"] = 1034,["1057"] = 1034,["1058"] = 1034,["1059"] = 1034,["1060"] = 1034,["1061"] = 1034,["1062"] = 1034,["1063"] = 1033,["1064"] = 1037,["1065"] = 1038,["1066"] = 1037,["1067"] = 1049,["1068"] = 1050,["1069"] = 1049,["1070"] = 1053,["1071"] = 1054,["1072"] = 1053,["1073"] = 1057,["1074"] = 1058,["1075"] = 1057,["1076"] = 1061,["1077"] = 1062,["1078"] = 1061,["1079"] = 1065,["1080"] = 1066,["1081"] = 1065,["1082"] = 1069,["1083"] = 1070,["1084"] = 1069,["1085"] = 1073,["1086"] = 1074,["1087"] = 1073,["1088"] = 1077,["1089"] = 1078,["1090"] = 1077,["1091"] = 1081,["1092"] = 1082,["1093"] = 1081,["1094"] = 1085,["1095"] = 1086,["1096"] = 1085,["1097"] = 1089,["1098"] = 1090,["1099"] = 1089,["1100"] = 1093,["1101"] = 1094,["1102"] = 1093,["1103"] = 1097,["1104"] = 1098,["1105"] = 1097,["1106"] = 1101,["1107"] = 1102,["1108"] = 1101,["1109"] = 1105,["1110"] = 1106,["1111"] = 1105,["1112"] = 1109,["1113"] = 1110,["1114"] = 1109,["1115"] = 1113,["1116"] = 1114,["1117"] = 1113,["1118"] = 1117,["1119"] = 1118,["1120"] = 1117});
local ____exports = {}
local ____destructable = require("solar.w3ts.handles.destructable")
local Destructable = ____destructable.Destructable
local ____handle = require("solar.w3ts.handles.handle")
local Handle = ____handle.Handle
local ____item = require("solar.w3ts.handles.item")
local Item = ____item.Item
local ____player = require("solar.w3ts.handles.player")
local MapPlayer = ____player.MapPlayer
local ____point = require("solar.w3ts.handles.point")
local Point = ____point.Point
local ____widget = require("solar.w3ts.handles.widget")
local Widget = ____widget.Widget
local ____UnitUtil = require("solar.util.unit.UnitUtil")
local UnitUtil = ____UnitUtil.default
local ____DataBase = require("solar.common.DataBase")
local DataBase = ____DataBase.default
local ____TextTagUtil = require("solar.util.text.TextTagUtil")
local TextTagUtil = ____TextTagUtil.default
local ____BaseUtil = require("solar.util.BaseUtil")
local BaseUtil = ____BaseUtil.default
local unitEntityMap = {}
____exports.Unit = __TS__Class()
local Unit = ____exports.Unit
Unit.name = "Unit"
__TS__ClassExtends(Unit, Widget)
function Unit.prototype.____constructor(self, owner, unitId, x, y, face)
    if Handle:initFromHandle() then
        Widget.prototype.____constructor(self)
        return
    end
    local p = Player(owner)
    local unitH = CreateUnit(
        p,
        unitId,
        x,
        y,
        face
    )
    Widget.prototype.____constructor(self, unitH)
end
__TS__SetDescriptor(
    Unit.prototype,
    "solarData",
    {
        get = function(self)
            return DataBase:getUnitSolarData(self.handle)
        end,
        set = function(self, obj)
            DataBase:setDataByHandle("+w3u", self.handle, obj)
        end
    },
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "entity",
    {
        get = function(self)
            return unitEntityMap[self.id]
        end,
        set = function(self, value)
            unitEntityMap[self.id] = value
        end
    },
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "acquireRange",
    {
        get = function(self)
            return GetUnitAcquireRange(self.handle)
        end,
        set = function(self, value)
            SetUnitAcquireRange(self.handle, value)
        end
    },
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "agility",
    {
        get = function(self)
            return GetHeroAgi(self.handle, false)
        end,
        set = function(self, value)
            SetHeroAgi(self.handle, value, true)
        end
    },
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "canSleep",
    {
        get = function(self)
            return UnitCanSleep(self.handle)
        end,
        set = function(self, flag)
            UnitAddSleep(self.handle, flag)
        end
    },
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "color",
    {set = function(self, whichColor)
        SetUnitColor(self.handle, whichColor)
    end},
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "currentOrder",
    {get = function(self)
        return GetUnitCurrentOrder(self.handle)
    end},
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "defaultAcquireRange",
    {get = function(self)
        return GetUnitDefaultAcquireRange(self.handle)
    end},
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "defaultFlyHeight",
    {get = function(self)
        return GetUnitDefaultFlyHeight(self.handle)
    end},
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "defaultMoveSpeed",
    {get = function(self)
        return GetUnitDefaultMoveSpeed(self.handle)
    end},
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "defaultPropWindow",
    {get = function(self)
        return GetUnitDefaultPropWindow(self.handle)
    end},
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "defaultTurnSpeed",
    {get = function(self)
        return GetUnitDefaultTurnSpeed(self.handle)
    end},
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "experience",
    {
        get = function(self)
            return GetHeroXP(self.handle)
        end,
        set = function(self, newXpVal)
            SetHeroXP(self.handle, newXpVal, true)
        end
    },
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "facing",
    {
        get = function(self)
            return GetUnitFacing(self.handle)
        end,
        set = function(self, value)
            SetUnitFacing(self.handle, value)
        end
    },
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "foodMade",
    {get = function(self)
        return GetUnitFoodMade(self.handle)
    end},
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "foodUsed",
    {get = function(self)
        return GetUnitFoodUsed(self.handle)
    end},
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "ignoreAlarmToggled",
    {get = function(self)
        return UnitIgnoreAlarmToggled(self.handle)
    end},
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "intelligence",
    {
        get = function(self)
            return GetHeroInt(self.handle, false)
        end,
        set = function(self, value)
            SetHeroInt(self.handle, value, true)
        end
    },
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "inventorySize",
    {get = function(self)
        return UnitInventorySize(self.handle)
    end},
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "invulnerable",
    {set = function(self, flag)
        SetUnitInvulnerable(self.handle, flag)
    end},
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "level",
    {get = function(self)
        return GetUnitLevel(self.handle)
    end},
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "mana",
    {
        get = function(self)
            return self:getState(UNIT_STATE_MANA)
        end,
        set = function(self, value)
            self:setState(UNIT_STATE_MANA, value)
        end
    },
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "moveSpeed",
    {
        get = function(self)
            return GetUnitMoveSpeed(self.handle)
        end,
        set = function(self, value)
            SetUnitMoveSpeed(self.handle, value)
        end
    },
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "name",
    {get = function(self)
        return GetUnitName(self.handle)
    end},
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "nameProper",
    {get = function(self)
        return GetHeroProperName(self.handle)
    end},
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "owner",
    {
        get = function(self)
            return MapPlayer:fromHandle(GetOwningPlayer(self.handle))
        end,
        set = function(self, whichPlayer)
            SetUnitOwner(self.handle, whichPlayer.handle, true)
        end
    },
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "paused",
    {
        get = function(self)
            return IsUnitPaused(self.handle)
        end,
        set = function(self, flag)
            PauseUnit(self.handle, flag)
        end
    },
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "point",
    {
        get = function(self)
            return Point:fromHandle(GetUnitLoc(self.handle))
        end,
        set = function(self, whichPoint)
            SetUnitPositionLoc(self.handle, whichPoint.handle)
        end
    },
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "pointValue",
    {get = function(self)
        return GetUnitPointValue(self.handle)
    end},
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "propWindow",
    {
        get = function(self)
            return GetUnitPropWindow(self.handle)
        end,
        set = function(self, value)
            SetUnitPropWindow(self.handle, value)
        end
    },
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "race",
    {get = function(self)
        return GetUnitRace(self.handle)
    end},
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "rallyDestructable",
    {get = function(self)
        return Destructable:fromHandle(GetUnitRallyDestructable(self.handle))
    end},
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "rallyPoint",
    {get = function(self)
        return Point:fromHandle(GetUnitRallyPoint(self.handle))
    end},
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "rallyUnit",
    {get = function(self)
        return ____exports.Unit:fromHandle(GetUnitRallyUnit(self.handle))
    end},
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "resourceAmount",
    {
        get = function(self)
            return GetResourceAmount(self.handle)
        end,
        set = function(self, amount)
            SetResourceAmount(self.handle, amount)
        end
    },
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "show",
    {
        get = function(self)
            return not IsUnitHidden(self.handle)
        end,
        set = function(self, flag)
            ShowUnit(self.handle, flag)
        end
    },
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "skillPoints",
    {
        get = function(self)
            return GetHeroSkillPoints(self.handle)
        end,
        set = function(self, skillPointDelta)
            UnitModifySkillPoints(self.handle, skillPointDelta)
        end
    },
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "sleeping",
    {get = function(self)
        return UnitIsSleeping(self.handle)
    end},
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "strength",
    {
        get = function(self)
            return GetHeroStr(self.handle, false)
        end,
        set = function(self, value)
            SetHeroStr(self.handle, value, true)
        end
    },
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "turnSpeed",
    {
        get = function(self)
            return GetUnitTurnSpeed(self.handle)
        end,
        set = function(self, value)
            SetUnitTurnSpeed(self.handle, value)
        end
    },
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "typeId",
    {get = function(self)
        return GetUnitTypeId(self.handle)
    end},
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "typeIdString",
    {get = function(self)
        return id2string(GetUnitTypeId(self.handle))
    end},
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "userData",
    {
        get = function(self)
            return GetUnitUserData(self.handle)
        end,
        set = function(self, value)
            SetUnitUserData(self.handle, value)
        end
    },
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "waygateActive",
    {
        get = function(self)
            return WaygateIsActive(self.handle)
        end,
        set = function(self, flag)
            WaygateActivate(self.handle, flag)
        end
    },
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "x",
    {
        get = function(self)
            return GetUnitX(self.handle)
        end,
        set = function(self, value)
            SetUnitX(self.handle, value)
        end
    },
    true
)
__TS__SetDescriptor(
    Unit.prototype,
    "y",
    {
        get = function(self)
            return GetUnitY(self.handle)
        end,
        set = function(self, value)
            SetUnitY(self.handle, value)
        end
    },
    true
)
function Unit.prototype.costLife(self, val)
    if self.life < val then
        return false
    end
    self.life = self.life - val
    return true
end
function Unit.prototype.costMana(self, val)
    if self.mana < val then
        return false
    end
    self.mana = self.mana - val
    return true
end
function Unit.prototype.textTag(self, text, red, green, blue)
    if red == nil then
        red = 0
    end
    if green == nil then
        green = 200
    end
    if blue == nil then
        blue = 0
    end
    return TextTagUtil.textOnUnit(
        self.handle,
        text,
        red,
        green,
        blue
    )
end
function Unit.prototype.addAbility(self, abilityId)
    return UnitAddAbility(self.handle, abilityId)
end
function Unit.prototype.addAnimationProps(self, animProperties, add)
    AddUnitAnimationProperties(self.handle, animProperties, add)
end
function Unit.prototype.addExperience(self, xpToAdd, showEyeCandy)
    AddHeroXP(self.handle, xpToAdd, showEyeCandy)
end
function Unit.prototype.addIndicator(self, red, blue, green, alpha)
    UnitAddIndicator(
        self.handle,
        red,
        blue,
        green,
        alpha
    )
end
function Unit.prototype.addItem(self, whichItem)
    return UnitAddItem(self.handle, whichItem.handle)
end
function Unit.prototype.addItemById(self, itemId)
    return Item:fromHandle(UnitAddItemById(self.handle, itemId))
end
function Unit.prototype.addItemToSlotById(self, itemId, itemSlot)
    return UnitAddItemToSlotById(self.handle, itemId, itemSlot)
end
function Unit.prototype.addItemToStock(self, itemId, currentStock, stockMax)
    AddItemToStock(self.handle, itemId, currentStock, stockMax)
end
function Unit.prototype.addResourceAmount(self, amount)
    AddResourceAmount(self.handle, amount)
end
function Unit.prototype.addSleepPerm(self, add)
    UnitAddSleepPerm(self.handle, add)
end
function Unit.prototype.addType(self, whichUnitType)
    return UnitAddType(self.handle, whichUnitType)
end
function Unit.prototype.addUnitToStock(self, unitId, currentStock, stockMax)
    AddUnitToStock(self.handle, unitId, currentStock, stockMax)
end
function Unit.prototype.applyTimedLife(self, buffId, duration)
    UnitApplyTimedLife(self.handle, buffId, duration)
end
function Unit.prototype.attachSound(self, sound)
    AttachSoundToUnit(sound.handle, self.handle)
end
function Unit.prototype.canSleepPerm(self)
    return UnitCanSleepPerm(self.handle)
end
function Unit.prototype.countBuffs(self, removePositive, removeNegative, magic, physical, timedLife, aura, autoDispel)
    return UnitCountBuffsEx(
        self.handle,
        removePositive,
        removeNegative,
        magic,
        physical,
        timedLife,
        aura,
        autoDispel
    )
end
function Unit.prototype.damageAt(self, delay, radius, x, y, amount, attack, ranged, attackType, damageType, weaponType)
    return UnitDamagePoint(
        self.handle,
        delay,
        radius,
        x,
        y,
        amount,
        attack,
        ranged,
        attackType,
        damageType,
        weaponType
    )
end
function Unit.prototype.damageTarget(self, target, amount, attack, ranged, attackType, damageType, weaponType)
    return UnitDamageTarget(
        self.handle,
        target,
        amount,
        attack,
        ranged,
        attackType,
        damageType,
        weaponType
    )
end
function Unit.prototype.decAbilityLevel(self, abilCode)
    return DecUnitAbilityLevel(self.handle, abilCode)
end
function Unit.prototype.destroy(self, delay)
    if delay == nil then
        delay = 0
    end
    if delay and delay > 0 then
        handle_ref(self.handle)
        BaseUtil.runLater(
            delay,
            function()
                self.solarData = nil
                handle_unref(self.handle)
                RemoveUnit(self.handle)
            end
        )
    else
        self.solarData = nil
        RemoveUnit(self.handle)
    end
end
function Unit.prototype.dropItem(self, whichItem, x, y)
    return UnitDropItemPoint(self.handle, whichItem.handle, x, y)
end
function Unit.prototype.dropItemFromSlot(self, whichItem, slot)
    return UnitDropItemSlot(self.handle, whichItem.handle, slot)
end
function Unit.prototype.dropItemTarget(self, whichItem, target)
    return UnitDropItemTarget(self.handle, whichItem.handle, target.handle)
end
function Unit.prototype.hasAbility(self, abilId)
    return GetUnitAbilityLevel(
        self.handle,
        FourCC(abilId)
    ) > 0
end
function Unit.prototype.getAbilityLevel(self, abilCode)
    return GetUnitAbilityLevel(self.handle, abilCode)
end
function Unit.prototype.getAgility(self, includeBonuses)
    return GetHeroAgi(self.handle, includeBonuses)
end
function Unit.prototype.getflyHeight(self)
    return GetUnitFlyHeight(self.handle)
end
function Unit.prototype.getHeroLevel(self)
    return GetHeroLevel(self.handle)
end
function Unit.prototype.getIgnoreAlarm(self, flag)
    return UnitIgnoreAlarm(self.handle, flag)
end
function Unit.prototype.getIntelligence(self, includeBonuses)
    return GetHeroInt(self.handle, includeBonuses)
end
function Unit.prototype.getItemInSlot(self, slot)
    local itemHandle = UnitItemInSlot(self.handle, slot)
    if itemHandle == nil then
        return nil
    end
    return Item:fromHandle(itemHandle)
end
function Unit.prototype.getItemByItemType(self, itemtype)
    local itemHandle = UnitUtil.GetInventoryOfItemType(self.handle, itemtype)
    if itemHandle then
        return Item:fromHandle(itemHandle)
    end
    return nil
end
function Unit.prototype.getState(self, whichUnitState)
    return GetUnitState(self.handle, whichUnitState)
end
function Unit.prototype.getStrength(self, includeBonuses)
    return GetHeroStr(self.handle, includeBonuses)
end
function Unit.prototype.hasBuffs(self, removePositive, removeNegative, magic, physical, timedLife, aura, autoDispel)
    return UnitHasBuffsEx(
        self.handle,
        removePositive,
        removeNegative,
        magic,
        physical,
        timedLife,
        aura,
        autoDispel
    )
end
function Unit.prototype.hasItem(self, whichItem)
    return UnitHasItem(self.handle, whichItem.handle)
end
function Unit.prototype.hasItemType(self, itemType)
    do
        local i = 0
        while i < 6 do
            local indexItem = UnitItemInSlot(self.handle, i)
            if indexItem ~= nil and GetItemTypeId(indexItem) == itemType then
                return true
            end
            i = i + 1
        end
    end
    return false
end
function Unit.prototype.incAbilityLevel(self, abilCode)
    return IncUnitAbilityLevel(self.handle, abilCode)
end
function Unit.prototype.inForce(self, whichForce)
    return IsUnitInForce(self.handle, whichForce.handle)
end
function Unit.prototype.inGroup(self, whichGroup)
    return IsUnitInGroup(self.handle, whichGroup.handle)
end
function Unit.prototype.inRange(self, x, y, distance)
    return IsUnitInRangeXY(self.handle, x, y, distance)
end
function Unit.prototype.inRangeOfPoint(self, whichPoint, distance)
    return IsUnitInRangeLoc(self.handle, whichPoint.handle, distance)
end
function Unit.prototype.inRangeOfUnit(self, otherUnit, distance)
    return IsUnitInRange(self.handle, otherUnit.handle, distance)
end
function Unit.prototype.inTransport(self, whichTransport)
    return IsUnitInTransport(self.handle, whichTransport.handle)
end
function Unit.prototype.isAlive(self)
    return self:getState(UNIT_STATE_LIFE) >= 1
end
function Unit.prototype.isAlly(self, whichPlayer)
    return IsUnitAlly(self.handle, whichPlayer.handle)
end
function Unit.prototype.isEnemy(self, whichPlayer)
    return IsUnitEnemy(self.handle, whichPlayer.handle)
end
function Unit.prototype.isExperienceSuspended(self)
    return IsSuspendedXP(self.handle)
end
function Unit.prototype.isFogged(self, whichPlayer)
    return IsUnitFogged(self.handle, whichPlayer.handle)
end
function Unit.prototype.isHero(self)
    return IsHeroUnitId(self.typeId)
end
function Unit.prototype.isIllusion(self)
    return IsUnitIllusion(self.handle)
end
function Unit.prototype.isLoaded(self)
    return IsUnitLoaded(self.handle)
end
function Unit.prototype.isMasked(self, whichPlayer)
    return IsUnitMasked(self.handle, whichPlayer.handle)
end
function Unit.prototype.isSelected(self, whichPlayer)
    return IsUnitSelected(self.handle, whichPlayer.handle)
end
function Unit.prototype.issueBuildOrder(self, unit, x, y)
    local ____temp_0
    if type(unit) == "string" then
        ____temp_0 = IssueBuildOrder(self.handle, unit, x, y)
    else
        ____temp_0 = IssueBuildOrderById(self.handle, unit, x, y)
    end
    return ____temp_0
end
function Unit.prototype.issueImmediateOrder(self, order)
    local ____temp_1
    if type(order) == "string" then
        ____temp_1 = IssueImmediateOrder(self.handle, order)
    else
        ____temp_1 = IssueImmediateOrderById(self.handle, order)
    end
    return ____temp_1
end
function Unit.prototype.issueInstantOrderAt(self, order, x, y, instantTargetWidget)
    local ____temp_2
    if type(order) == "string" then
        ____temp_2 = IssueInstantPointOrder(
            self.handle,
            order,
            x,
            y,
            instantTargetWidget.handle
        )
    else
        ____temp_2 = IssueInstantPointOrderById(
            self.handle,
            order,
            x,
            y,
            instantTargetWidget.handle
        )
    end
    return ____temp_2
end
function Unit.prototype.issueInstantTargetOrder(self, order, targetWidget, instantTargetWidget)
    local ____temp_3
    if type(order) == "string" then
        ____temp_3 = IssueInstantTargetOrder(self.handle, order, targetWidget.handle, instantTargetWidget.handle)
    else
        ____temp_3 = IssueInstantTargetOrderById(self.handle, order, targetWidget.handle, instantTargetWidget.handle)
    end
    return ____temp_3
end
function Unit.prototype.issueOrderAt(self, order, x, y)
    local ____temp_4
    if type(order) == "string" then
        ____temp_4 = IssuePointOrder(self.handle, order, x, y)
    else
        ____temp_4 = IssuePointOrderById(self.handle, order, x, y)
    end
    return ____temp_4
end
function Unit.prototype.issuePointOrder(self, order, whichPoint)
    local ____temp_5
    if type(order) == "string" then
        ____temp_5 = IssuePointOrderLoc(self.handle, order, whichPoint.handle)
    else
        ____temp_5 = IssuePointOrderByIdLoc(self.handle, order, whichPoint.handle)
    end
    return ____temp_5
end
function Unit.prototype.issueTargetOrder(self, order, targetWidget)
    local ____temp_6
    if type(order) == "string" then
        ____temp_6 = IssueTargetOrder(self.handle, order, targetWidget.handle)
    else
        ____temp_6 = IssueTargetOrderById(self.handle, order, targetWidget.handle)
    end
    return ____temp_6
end
function Unit.prototype.isUnit(self, whichSpecifiedUnit)
    return IsUnit(self.handle, whichSpecifiedUnit.handle)
end
function Unit.prototype.isUnitType(self, whichUnitType)
    return IsUnitType(self.handle, whichUnitType)
end
function Unit.prototype.isVisible(self, whichPlayer)
    return IsUnitVisible(self.handle, whichPlayer.handle)
end
function Unit.prototype.kill(self)
    KillUnit(self.handle)
end
function Unit.prototype.lookAt(self, whichBone, lookAtTarget, offsetX, offsetY, offsetZ)
    SetUnitLookAt(
        self.handle,
        whichBone,
        lookAtTarget.handle,
        offsetX,
        offsetY,
        offsetZ
    )
end
function Unit.prototype.makeAbilityPermanent(self, permanent, abilityId)
    UnitMakeAbilityPermanent(self.handle, permanent, abilityId)
end
function Unit.prototype.modifySkillPoints(self, skillPointDelta)
    return UnitModifySkillPoints(self.handle, skillPointDelta)
end
function Unit.prototype.pauseTimedLife(self, flag)
    UnitPauseTimedLife(self.handle, flag)
end
function Unit.prototype.queueAnimation(self, whichAnimation)
    QueueUnitAnimation(self.handle, whichAnimation)
end
function Unit.prototype.recycleGuardPosition(self)
    RecycleGuardPosition(self.handle)
end
function Unit.prototype.removeAbility(self, abilityId)
    return UnitRemoveAbility(self.handle, abilityId)
end
function Unit.prototype.removeBuffs(self, removePositive, removeNegative)
    UnitRemoveBuffs(self.handle, removePositive, removeNegative)
end
function Unit.prototype.removeBuffsEx(self, removePositive, removeNegative, magic, physical, timedLife, aura, autoDispel)
    UnitRemoveBuffsEx(
        self.handle,
        removePositive,
        removeNegative,
        magic,
        physical,
        timedLife,
        aura,
        autoDispel
    )
end
function Unit.prototype.removeGuardPosition(self)
    RemoveGuardPosition(self.handle)
end
function Unit.prototype.removeItem(self, whichItem)
    UnitRemoveItem(self.handle, whichItem.handle)
end
function Unit.prototype.removeItemFromSlot(self, itemSlot)
    return Item:fromHandle(UnitRemoveItemFromSlot(self.handle, itemSlot))
end
function Unit.prototype.removeItemFromStock(self, itemId)
    RemoveItemFromStock(self.handle, itemId)
end
function Unit.prototype.removeType(self, whichUnitType)
    return UnitAddType(self.handle, whichUnitType)
end
function Unit.prototype.removeUnitFromStock(self, itemId)
    RemoveUnitFromStock(self.handle, itemId)
end
function Unit.prototype.resetCooldown(self)
    UnitResetCooldown(self.handle)
end
function Unit.prototype.resetLookAt(self)
    ResetUnitLookAt(self.handle)
end
function Unit.prototype.revive(self, x, y, doEyecandy)
    return ReviveHero(self.handle, x, y, doEyecandy)
end
function Unit.prototype.reviveAtPoint(self, whichPoint, doEyecandy)
    return ReviveHeroLoc(self.handle, whichPoint.handle, doEyecandy)
end
function Unit.prototype.select(self, flag)
    SelectUnit(self.handle, flag)
end
function Unit.prototype.selectSkill(self, abilCode)
    SelectHeroSkill(self.handle, abilCode)
end
function Unit.prototype.setAbilityLevel(self, abilCode, level)
    return SetUnitAbilityLevel(self.handle, abilCode, level)
end
function Unit.prototype.setAgility(self, value, permanent)
    SetHeroAgi(self.handle, value, permanent)
end
function Unit.prototype.setAnimation(self, whichAnimation)
    if type(whichAnimation) == "string" then
        SetUnitAnimation(self.handle, whichAnimation)
    else
        SetUnitAnimationByIndex(self.handle, whichAnimation)
    end
end
function Unit.prototype.setAnimationWithRarity(self, whichAnimation, rarity)
    SetUnitAnimationWithRarity(self.handle, whichAnimation, rarity)
end
function Unit.prototype.setBlendTime(self, timeScale)
    SetUnitBlendTime(self.handle, timeScale)
end
function Unit.prototype.setConstructionProgress(self, constructionPercentage)
    UnitSetConstructionProgress(self.handle, constructionPercentage)
end
function Unit.prototype.setCreepGuard(self, creepGuard)
    SetUnitCreepGuard(self.handle, creepGuard)
end
function Unit.prototype.setExperience(self, newXpVal, showEyeCandy)
    SetHeroXP(self.handle, newXpVal, showEyeCandy)
end
function Unit.prototype.setExploded(self, exploded)
    SetUnitExploded(self.handle, exploded)
end
function Unit.prototype.setflyHeight(self, value, rate)
    SetUnitFlyHeight(self.handle, value, rate)
end
function Unit.prototype.setHeroLevel(self, level, showEyeCandy)
    SetHeroLevel(self.handle, level, showEyeCandy)
end
function Unit.prototype.setIntelligence(self, value, permanent)
    SetHeroInt(self.handle, value, permanent)
end
function Unit.prototype.setItemTypeSlots(self, slots)
    SetItemTypeSlots(self.handle, slots)
end
function Unit.prototype.setOwner(self, whichPlayer, changeColor)
    SetUnitOwner(self.handle, whichPlayer.handle, changeColor)
end
function Unit.prototype.setPathing(self, flag)
    SetUnitPathing(self.handle, flag)
end
function Unit.prototype.setPosition(self, x, y)
    SetUnitPosition(self.handle, x, y)
end
function Unit.prototype.setRescuable(self, byWhichPlayer, flag)
    SetUnitRescuable(self.handle, byWhichPlayer.handle, flag)
end
function Unit.prototype.setRescueRange(self, range)
    SetUnitRescueRange(self.handle, range)
end
function Unit.prototype.setScale(self, scaleX, scaleY, scaleZ)
    SetUnitScale(self.handle, scaleX, scaleY, scaleZ)
end
function Unit.prototype.setState(self, whichUnitState, newVal)
    SetUnitState(self.handle, whichUnitState, newVal)
end
function Unit.prototype.setStrength(self, value, permanent)
    SetHeroStr(self.handle, value, permanent)
end
function Unit.prototype.setTimeScale(self, timeScale)
    SetUnitTimeScale(self.handle, timeScale)
end
function Unit.prototype.setUnitTypeSlots(self, slots)
    SetUnitTypeSlots(self.handle, slots)
end
function Unit.prototype.setUpgradeProgress(self, upgradePercentage)
    UnitSetUpgradeProgress(self.handle, upgradePercentage)
end
function Unit.prototype.setUseAltIcon(self, flag)
    UnitSetUsesAltIcon(self.handle, flag)
end
function Unit.prototype.setUseFood(self, useFood)
    SetUnitUseFood(self.handle, useFood)
end
function Unit.prototype.setVertexColor(self, red, green, blue, alpha)
    SetUnitVertexColor(
        self.handle,
        red,
        green,
        blue,
        alpha
    )
end
function Unit.prototype.shareVision(self, whichPlayer, share)
    UnitShareVision(self.handle, whichPlayer.handle, share)
end
function Unit.prototype.stripLevels(self, howManyLevels)
    return UnitStripHeroLevel(self.handle, howManyLevels)
end
function Unit.prototype.suspendDecay(self, suspend)
    UnitSuspendDecay(self.handle, suspend)
end
function Unit.prototype.suspendExperience(self, flag)
    SuspendHeroXP(self.handle, flag)
end
function Unit.prototype.useItem(self, whichItem)
    return UnitUseItem(self.handle, whichItem.handle)
end
function Unit.prototype.useItemAt(self, whichItem, x, y)
    return UnitUseItemPoint(self.handle, whichItem.handle, x, y)
end
function Unit.prototype.useItemTarget(self, whichItem, target)
    return UnitUseItemTarget(self.handle, whichItem.handle, target.handle)
end
function Unit.prototype.wakeUp(self)
    UnitWakeUp(self.handle)
end
function Unit.prototype.waygateGetDestinationX(self)
    return WaygateGetDestinationX(self.handle)
end
function Unit.prototype.waygateGetDestinationY(self)
    return WaygateGetDestinationY(self.handle)
end
function Unit.prototype.waygateSetDestination(self, x, y)
    WaygateSetDestination(self.handle, x, y)
end
function Unit.foodMadeByType(self, unitId)
    return GetFoodMade(unitId)
end
function Unit.foodUsedByType(self, unitId)
    return GetFoodUsed(unitId)
end
function Unit.fromEnum(self)
    return self:fromHandle(GetEnumUnit())
end
function Unit.fromEvent(self)
    return self:fromHandle(GetTriggerUnit())
end
function Unit.fromHandle(self, handle)
    return self:getObject(handle)
end
function Unit.getPointValueByType(self, unitType)
    return GetUnitPointValueByType(unitType)
end
function Unit.isUnitIdHero(self, unitId)
    return IsHeroUnitId(unitId)
end
function Unit.isUnitIdType(self, unitId, whichUnitType)
    return IsUnitIdType(unitId, whichUnitType)
end
return ____exports
